<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Insta-Varta</title>
  <link href="/start.css" rel="stylesheet">
</head>

<body>
  <div id="photos"></div>
  <script>
    fetch("/myphotos")
      .then(res => {
        return res.text()
      })
      .then(txt => {
        p = document.getElementById("photos");
        x = JSON.parse(txt);
        x.forEach(element => {
          const photoDiv = document.createElement('div');
          photoDiv.id = 'post';

          // Create the first text div
          const textDiv1 = document.createElement('div');
          textDiv1.id = 'uname';
          textDiv1.textContent = element['name'];

          // Create the image tag
          const image = document.createElement('img');
          image.id = 'photo';
          image.src = '/photo?p=' + element['photo']; // Replace with your desired URL
          image.alt = 'Photo';

          // Create the second text div
          const textDiv2 = document.createElement('div');
          textDiv2.id = 'caption';
          textDiv2.textContent = element['caption'];

          // Append the text divs and image to the main div
          photoDiv.appendChild(textDiv1);
          photoDiv.appendChild(image);
          photoDiv.appendChild(textDiv2);

          // Append the main div to the body or another container element
          p.appendChild(photoDiv);
        });
        console.log(x);
      })
  </script>

</body>


</html>
